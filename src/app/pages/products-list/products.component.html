<!-- <button [appNgClass]="{hover: isHovered}" [ngStyle]="{color: '#fff'}">Button</button> -->
<div *ngIf="products; else spinner" class="container">
  <ng-container
    *appPagination="
      let content of products;
      elementSize: 2;
      let prev = prev;
      let next = next;
      let activeIndex = index;
      let allIndexes = allIndexes;
      let selectIndex = selectIndex"
  >
    <!--<ng-template [ngIf]="products" [ngIfElse]="spinner">-->

      <!--    <ng-template ngFor let-product let-index="index" [ngForOf]="products" [ngForTrackBy]="trackBy">-->
      <!--      <app-product-card class="product" [product]="products[index]"></app-product-card>-->
      <!--    </ng-template>-->
      <!--    *ngFor="products" [ngForTrackBy]="trackBy">-->

      <!-- content -> IProduct, а ngFor просит передать ему что то итерируемое. Естейственно, сущность продукта у нас - не итерируемая сущность, по этому и возникает ошибка -->
      <!-- Почему content == IProduct - смотри в директиве -->
      <app-product-card
        *ngFor="let product of content; trackBy: trackBy; let index = index"
        class="product"
        [product]="product"
      >
        {{content}}
        {{product}}
      </app-product-card>


    <!--</ng-template>-->

<!--    <ng-template #spinner >-->
<!--      <mat-spinner class="spinner"></mat-spinner>-->
<!--    </ng-template>-->



    <div class="pagination">
      <button class="pagination__button" mat-icon-button (click)="prev()">
        <mat-icon>
          chevron_left
        </mat-icon>
      </button>
      <button
        mat-icon-button
        *ngFor="let index of allIndexes"
        class="pagination__button--active"
        (click)="selectIndex(index)">
        {{index}}
      </button>

      <button class="pagination__button" mat-icon-button (click)="next()">
        <mat-icon>
          chevron_right
        </mat-icon>
      </button>
    </div>
  </ng-container>
</div>
<ng-template #spinner >
  <mat-spinner class="spinner"></mat-spinner>
</ng-template>


